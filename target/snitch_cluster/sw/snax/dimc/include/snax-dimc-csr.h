// Copyright 2024 KU Leuven.
// Licensed under the Apache License, Version 2.0, see LICENSE for details.
// SPDX-License-Identifier: Apache-2.0

//-------------------------------
// Mace <ce.ma@kuleuven.be>
//
// Header: Headerfile for built-in DIMC CSRs
//
// This headerfile contains the addresses of the DIMC
// accelerator's CSRs.
//-------------------------------

// Starting addresses and offsets

#define SNAX_CSR_BASE 960

#define DIMC_STREAMER_R_0_BASE_PTR      960
#define DIMC_STREAMER_R_0_BASE_PTR_HIGH 961
#define DIMC_STREAMER_R_0_SPAT_STRIDE   962
#define DIMC_STREAMER_R_0_LOOP_BOUND_0  963
#define DIMC_STREAMER_R_0_LOOP_BOUND_1  964
#define DIMC_STREAMER_R_0_TEMP_STRIDE_0 965
#define DIMC_STREAMER_R_0_TEMP_STRIDE_1 966

#define DIMC_STREAMER_R_1_BASE_PTR      967
#define DIMC_STREAMER_R_1_BASE_PTR_HIGH 968
#define DIMC_STREAMER_R_1_SPAT_STRIDE   969
#define DIMC_STREAMER_R_1_LOOP_BOUND_0  970
#define DIMC_STREAMER_R_1_LOOP_BOUND_1  971
#define DIMC_STREAMER_R_1_TEMP_STRIDE_0 972
#define DIMC_STREAMER_R_1_TEMP_STRIDE_1 973

#define DIMC_STREAMER_R_2_BASE_PTR      974
#define DIMC_STREAMER_R_2_BASE_PTR_HIGH 975
#define DIMC_STREAMER_R_2_SPAT_STRIDE   976
#define DIMC_STREAMER_R_2_LOOP_BOUND_0  977
#define DIMC_STREAMER_R_2_LOOP_BOUND_1  978
#define DIMC_STREAMER_R_2_TEMP_STRIDE_0 979
#define DIMC_STREAMER_R_2_TEMP_STRIDE_1 980

#define DIMC_STREAMER_R_3_BASE_PTR      981
#define DIMC_STREAMER_R_3_BASE_PTR_HIGH 982
#define DIMC_STREAMER_R_3_SPAT_STRIDE   983
#define DIMC_STREAMER_R_3_LOOP_BOUND_0  984
#define DIMC_STREAMER_R_3_LOOP_BOUND_1  985
#define DIMC_STREAMER_R_3_TEMP_STRIDE_0 986
#define DIMC_STREAMER_R_3_TEMP_STRIDE_1 987

#define DIMC_STREAMER_W_0_BASE_PTR      988
#define DIMC_STREAMER_W_0_BASE_PTR_HIGH 989
#define DIMC_STREAMER_W_0_SPAT_STRIDE   990
#define DIMC_STREAMER_W_0_LOOP_BOUND_0  991
#define DIMC_STREAMER_W_0_LOOP_BOUND_1  992
#define DIMC_STREAMER_W_0_TEMP_STRIDE_0 993
#define DIMC_STREAMER_W_0_TEMP_STRIDE_1 994

// Other registers
#define DIMC_STREAMER_START             995
#define DIMC_STREAMER_BUSY              996
#define DIMC_STREAMER_PERF_COUNTER      997


// DIMC accelerator Read-Write registers
#define DIMC_CSR_OFFSET                 998

#define DIMC_LOAD_CONV_ACTIVATION (DIMC_CSR_OFFSET + 0)
#define DIMC_START_CONV           (DIMC_CSR_OFFSET + 1)
#define DIMC_LOAD_KERNEL          (DIMC_CSR_OFFSET + 2)
#define DIMC_START_MHA            (DIMC_CSR_OFFSET + 3)

#define DIMC_CFG_INPUT_ZP_QKV     (DIMC_CSR_OFFSET + 4)
#define DIMC_CFG_INPUT_ZP_QKT     (DIMC_CSR_OFFSET + 5)
#define DIMC_CFG_INPUT_ZP_CONV    (DIMC_CSR_OFFSET + 6)

#define DIMC_CFG_OUTPUT_ZP_QKV    (DIMC_CSR_OFFSET + 7)
#define DIMC_CFG_OUTPUT_ZP_QKT    (DIMC_CSR_OFFSET + 8)
#define DIMC_CFG_OUTPUT_ZP_CONV   (DIMC_CSR_OFFSET + 9)

#define DIMC_CFG_MULTIPLIER_QKV   (DIMC_CSR_OFFSET + 10)
#define DIMC_CFG_MULTIPLIER_QKT   (DIMC_CSR_OFFSET + 11)
#define DIMC_CFG_MULTIPLIER_CONV  (DIMC_CSR_OFFSET + 12)

#define DIMC_CFG_SHIFT_QKV        (DIMC_CSR_OFFSET + 13)
#define DIMC_CFG_SHIFT_QKT        (DIMC_CSR_OFFSET + 14)
#define DIMC_CFG_SHIFT_CONV       (DIMC_CSR_OFFSET + 15)

#define DIMC_CFG_MAX_INT_QKV      (DIMC_CSR_OFFSET + 16)
#define DIMC_CFG_MAX_INT_QKT      (DIMC_CSR_OFFSET + 17)
#define DIMC_CFG_MAX_INT_CONV     (DIMC_CSR_OFFSET + 18)

#define DIMC_CFG_MIN_INT_QKV      (DIMC_CSR_OFFSET + 19)
#define DIMC_CFG_MIN_INT_QKT      (DIMC_CSR_OFFSET + 20)
#define DIMC_CFG_MIN_INT_CONV     (DIMC_CSR_OFFSET + 21)

#define DIMC_CFG_DOUBLE_RND_QKV   (DIMC_CSR_OFFSET + 22)
#define DIMC_CFG_DOUBLE_RND_QKT   (DIMC_CSR_OFFSET + 23)
#define DIMC_CFG_DOUBLE_RND_CONV  (DIMC_CSR_OFFSET + 24)

#define DIMC_CFG_CYCLE_CNT        (DIMC_CSR_OFFSET + 25)

// DIMC accelerator Read-Only registers
#define DIMC_ACC_BUSY             (DIMC_CSR_OFFSET + 26)
#define DIMC_RD_QKV_INPUT_ZP      (DIMC_CSR_OFFSET + 27)